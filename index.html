<!DOCTYPE html>
<html>
  <head>
    <title>Improving Open Source Security with Reproducible Builds</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="rb-style/assets/styles/main.css">
    <link rel="stylesheet" href="assets/customizations.css">
    <link rel="shortcut icon" type="image/png" href="rb-style/assets/images/favicon.png"/>
    <link href="rb-style/assets/fonts/overpass.css" rel="stylesheet">
    <link href="rb-style/assets/fonts/overpass-mono.css" rel="stylesheet">
    <link rel="stylesheet" href="rb-style/assets/static/open-iconic-bootstrap.css" />
    <link rel="stylesheet" href="rb-style/assets/static/bootstrap.min.css">
    <style>
      .remark-code, .remark-inline-code { font-family: 'Overpass Mono'; }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <textarea id="source">
class: center, middle

Improving

# Open Source Security

with

![Reproducible Builds](assets/ReproducibleBuilds_ICONS_4.svg)

---

layout: true

.navbar.navbar-light.rp-navbar__top[![Reproducible Builds](rb-style/assets/images/logo-text-white.png) ![Hacker Hotel](assets/hackerhotel_white.png)]

---

# Agenda

1. Attacks on OSS distribution
2. Defending: Reproducible Builds
3. Other advantages
4. In practice
5. Problems & Tools
6. Arch and Debian

---

# 1. Attacks on OSS distribution

---

## Risk Analysis

Should we care? Would attacks on OSS have impact?

???

TODO Arnout: before we start talking about securing the OSS build and
distribution pipeline, let's talk about whether it is worth it. Spoiler
alert: we think it is.

Show of hands: who is developer? uses OSS? professionally?

Quote Black Duck survey on OSS in bigcorp's

---

## Risk Analysis

Should we care? Are OSS developers being targeted?

???

---

## 

![Homebrew hack](assets/homebrew.png)

![nodejs hack](assets/nodejs.png)

???

Not a theoretical problem:

* august 2018: someone gained access to credentials of Homebrew dev, 

TODO Arnout: add nodejs event-stream thing

Problem not unique to FLOSS: https://www.polygon.com/2018/7/30/17630664/steam-abstractism-cryptocurrency-mining - but FLOSS in unique position to combat it

---

<!-- start include -->

OSS Development and Distribution

<table>
<tr><th>Steps</th><th></th></tr>

<tr><td>
Developers write code
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th></th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th></th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th></th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th></th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th></th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th></th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
<li>Compromised build machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th></th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
<li>Compromised build machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>
<li>Compromised distribution infra</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th>Mitigations</th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>
<li>Cannot be prevented</li>
</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
<li>Compromised build machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>
<li>Compromised distribution infra</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th>Mitigations</th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>
<li>Cannot be prevented</li>
<li>Can we still improve trust?</li>
</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
<li>Compromised build machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>
<li>Compromised distribution infra</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th>Mitigations</th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>
<li>Cannot be prevented</li>
<li>Can we still improve trust?</li>
</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>
<li>Signed commits</li>
</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
<li>Compromised build machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>
<li>Compromised distribution infra</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th>Mitigations</th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>
<li>Cannot be prevented</li>
<li>Can we still improve trust?</li>
</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>
<li>Signed commits</li>
<li>Detect 'rewriting history'</li>
</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
<li>Compromised build machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>
<li>Compromised distribution infra</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th>Mitigations</th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>
<li>Cannot be prevented</li>
<li>Can we still improve trust?</li>
</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>
<li>Signed commits</li>
<li>Detect 'rewriting history'</li>
<li>Audits</li>
</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
<li>Compromised build machine</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>
<li>Compromised distribution infra</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th>Mitigations</th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>
<li>Cannot be prevented</li>
<li>Can we still improve trust?</li>
</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>
<li>Signed commits</li>
<li>Detect 'rewriting history'</li>
<li>Audits</li>
</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
<li>Compromised build machine</li>
</ul>
</td><td>
<ul>
<li>Transitive verification</li>
</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>
<li>Compromised distribution infra</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th>Mitigations</th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>
<li>Cannot be prevented</li>
<li>Can we still improve trust?</li>
</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>
<li>Signed commits</li>
<li>Detect 'rewriting history'</li>
<li>Audits</li>
</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
<li>Compromised build machine</li>
</ul>
</td><td>
<ul>
<li>Transitive verification</li>
<li>!!!</li>
</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>
<li>Compromised distribution infra</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  
---

Threat model

<table>
<tr><th>Threats</th><th>Mitigations</th></tr>

<tr><td>
Developers write code
<ul>
<li>Malicious contributors</li>
<li>Blackmail, coercion</li>
<li>Compromised dev machine</li>
</ul>
</td><td>
<ul>
<li>Cannot be prevented</li>
<li>Can we still improve trust?</li>
</ul>
</td></tr>
   

<tr><td>
Commit to Source Control
<ul>
<li>Compromised SCM hosting</li>
</ul>
</td><td>
<ul>
<li>Signed commits</li>
<li>Detect 'rewriting history'</li>
<li>Audits</li>
</ul>
</td></tr>
   

<tr><td>
Built and packaged
<ul>
<li>Malicious dependencies/plugins</li>
<li>Compromised build machine</li>
</ul>
</td><td>
<ul>
<li>Transitive verification</li>
<li>!!!</li>
</ul>
</td></tr>
   

<tr><td>
Uploaded to distribution infra
<ul>

</ul>
</td><td>
<ul>

</ul>
</td></tr>
   

<tr><td>
Downloaded by user
<ul>
<li>Compromised distribution infra</li>
</ul>
</td><td>
<ul>
<li>Signatures</li>
</ul>
</td></tr>
   

<tr><td>
User runs software
<ul>
<li>No malicious code here</li>
</ul>
</td><td>
<ul>

</ul>
</td></tr>
   
</table>
  

<!-- end include -->

---

"Reflections on Trusting Trust", Ken Thompson, 1984

![Figure 7](assets/trusting-trust.gif)

"Such blatant code would not go undetected for long. Even the most casual perusal of the source of the C compiler would raise suspicions"

???

Not a new problem: envisioned in 1984 by inventor of Unix

TODO Arnout: hoort dit wel hier?

---

# 2. Defending: Reproducible Builds

TODO Arnout: uitleggen wat RB is, plaatjes

---

# 3. Other advantages

TODO Arnout: invullen.

---

# 4. In practice

---

# 5. Problems & Tools

---

# 6. Arch and Debian

    </textarea>
    <script src="js/remark-0.14.1.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
